<?php

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly.
}

class SmartMail_Software_Store_Admin {
    public function create_admin_menu() {
        add_menu_page(
            'SmartMail Software Store',
            'Software Store',
            'manage_options',
            'smartmail-software-store',
            array($this, 'admin_page_content'),
            'dashicons-store'
        );
    }

    public function register_settings() {
        register_setting('smartmail_software_store', 'smartmail_software_store_data');
    }

    public function admin_page_content() {
        ?>
        <div class="wrap">
            <h1>SmartMail Software Store Settings</h1>
            <form method="post" action="options.php">
                <?php
                settings_fields('smartmail_software_store');
                do_settings_sections('smartmail_software_store');
                ?>
                <table class="form-table">
                    <tr valign="top">
                        <th scope="row">Software/Ebook Data</th>
                        <td>
                            <textarea name="smartmail_software_store_data" rows="10" cols="50" class="large-text"><?php echo esc_textarea(get_option('smartmail_software_store_data')); ?></textarea>
                        </td>
                    </tr>
                </table>
                <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes">
            </form>
        </div>
        <?php
    }
}
